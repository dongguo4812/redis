# 介绍

Redis列表是简单的字符串列表,按照插入顺序排序。你可以添加一个元素到列表的头部(左边)或者尾部(右边)。

它的底层实际是个双端链表,最多可以包含2^32-1个元素(4294967295,每个列表超过40亿个元素)。

# 常见命令

## LPUSH

LPUSH key element ... ：向列表左侧插入一个或多个元素

```shell
127.0.0.1:6379> lpush list1 1 2 3 4 5
(integer) 5
```



## RPUSH

RPUSH key element ... ：向列表右侧插入一个或多个元素

```shell
127.0.0.1:6379> rpush list2 11 22 33 44 55
(integer) 5
```

## LRANGE

LRANGE key star end：返回一段角标范围内的所有元素

```shell
127.0.0.1:6379> lrange list1 0 -1
1) "5"
2) "4"
3) "3"
4) "2"
5) "1"
127.0.0.1:6379> lrange list2 0 -1
1) "11"
2) "22"
3) "33"
4) "44"
5) "55"
```

## LPOP

LPOP key：移除并返回列表左侧的第一个元素，没有则返回nil

```shell
127.0.0.1:6379> lpop list1
"5"
127.0.0.1:6379> lrange list1 0 -1
1) "4"
2) "3"
3) "2"
4) "1"
```



## RPOP

RPOP key：移除并返回列表右侧的第一个元素

```shell
127.0.0.1:6379> lrange list1 0 -1
1) "4"
2) "3"
3) "2"
```

**注： LPOP/RPOP key count   count是删除多少个元素**

​		**BLPOP和BRPOP：与LPOP和RPOP类似，只不过在没有元素时等待指定时间，而不是直接返回nil。**

​    	**B即block阻塞，队列中没有指定的元素会一直阻塞直到有这个元素**

## LPUSHX

仅当参数中指定的key存在时（如果与key管理的list中没有值时，则该key是不存在的），在指定的key所关联的list的头部插入value。

```shell
127.0.0.1:6379> lpushx list1 5
(integer) 4
127.0.0.1:6379> lrange list1 0 -1
1) "5"
2) "4"
3) "3"
4) "2"
127.0.0.1:6379> lpushx list 5
(integer) 0
127.0.0.1:6379> lrange list 0 -1
(empty array)
```

## RPUSHX

仅当参数中指定的key存在时（如果与key管理的list中没有值时，则该key是不存在的）在该list的尾部添加元素

```shell
127.0.0.1:6379> rpushx list1 1
(integer) 5
127.0.0.1:6379> lrange list1 0 -1
1) "5"
2) "4"
3) "3"
4) "2"
5) "1"
127.0.0.1:6379> rpushx list 1
(integer) 0
127.0.0.1:6379> lrange list 0 -1
(empty array)
```

## LINDEX

按照索引下标获得元素，即从左到右

```shell
127.0.0.1:6379> lrange list1 0 -1
1) "5"
2) "4"
3) "3"
4) "2"
5) "1"
127.0.0.1:6379> lindex list1 0
"5"
127.0.0.1:6379> lindex list1 1
"4"
127.0.0.1:6379> lindex list1 4
"1"
```

## LLEN

获取列表中元素的个数

```shell
127.0.0.1:6379> llen list1
(integer) 5
```

## LREM

lrem key <n> value 从左往右删除n个值等于v1的元素, n为0表示删除所有值。返回的值为实际删除的数量

```shell
127.0.0.1:6379> lpush list1 1 1 1 1 2 2 3 4 5
(integer) 9
127.0.0.1:6379> lrange list1 0 -1
1) "5"
2) "4"
3) "3"
4) "2"
5) "2"
6) "1"
7) "1"
8) "1"
9) "1"
127.0.0.1:6379> lrem list1 3 1
(integer) 3
127.0.0.1:6379> lrange list1 0 -1
1) "5"
2) "4"
3) "3"
4) "2"
5) "2"
6) "1"
```

## LTRIM

ltrim key <开始index> <结束index> ： 截取指定范围的值后再赋值给key

```shell
127.0.0.1:6379> lrange list1 0 -1
1) "5"
2) "4"
3) "3"
4) "2"
5) "2"
6) "1"
127.0.0.1:6379> ltrim list1 2 4
OK
127.0.0.1:6379> lrange list1 0 -1
1) "3"
2) "2"
3) "2"
```

## RPOPLPUSH

rpoplpush <原列表>  <目的列表>:移出列表的最后一个元素，将该元素添加到另一个列表并返回(从原列表右边出，从目标列表左边进)

```shell
127.0.0.1:6379> lpush list1 1 2 3 4 5
(integer) 5
127.0.0.1:6379> lpush list2 11 22 33 44 55
(integer) 5
127.0.0.1:6379> lrange list1 0 -1
1) "5"
2) "4"
3) "3"
4) "2"
5) "1"
127.0.0.1:6379> lrange list2 0 -1
1) "55"
2) "44"
3) "33"
4) "22"
5) "11"
127.0.0.1:6379> rpoplpush list1 list2
"1"
127.0.0.1:6379> lrange list1 0 -1
1) "5"
2) "4"
3) "3"
4) "2"
127.0.0.1:6379> lrange list2 0 -1
1) "1"
2) "55"
3) "44"
4) "33"
5) "22"
6) "11"
```

## LSET

lset key index value：将列表key下标为index的值替换成value

```shell
127.0.0.1:6379> lrange list1 0 -1
1) "5"
2) "4"
3) "3"
4) "2"
127.0.0.1:6379> lset list1 0 1
OK
127.0.0.1:6379> lrange list1 0 -1
1) "1"
2) "4"
3) "3"
4) "2"
```

## LINSERT

linsert key before|after <value> <newValue> :在<value> 的后面/前面插入 <newValue>值

```shell
127.0.0.1:6379> lrange list1 0 -1
1) "1"
2) "4"
3) "3"
4) "2"
127.0.0.1:6379> linsert list1 before 3 java
(integer) 5
127.0.0.1:6379> lrange list1 0 -1
1) "1"
2) "4"
3) "java"
4) "3"
5) "2"
```

# 应用场景

朋友圈点赞列表

热门商品分页展示