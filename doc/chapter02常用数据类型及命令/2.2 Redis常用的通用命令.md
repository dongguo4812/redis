Redis为了方便我们学习，将操作不同数据类型的命令也做了分组，在官网（ [https://redis.io/commands ](https://redis.io/commands)）可以查看到不同的命令：

![image-20240229194405724](https://gitee.com/dongguo4812_admin/image/raw/master/image/202403261719689.png)

# help

不同类型的命令称为一个group，我们也可以通过help命令来查看各种不同group的命令：

![image-20240229194424861](https://gitee.com/dongguo4812_admin/image/raw/master/image/202403261719693.png)

比如查看string类型相关的命令

```shell
127.0.0.1:6379> help @string

  APPEND key value
  summary: Append a value to a key
  since: 2.0.0

  BITCOUNT key [start end]
  summary: Count set bits in a string
  since: 2.6.0

  BITFIELD key [GET type offset] [SET type offset value] [INCRBY type offset increment] [OVERFLOW WRAP|SAT|FAIL]
  summary: Perform arbitrary bitfield integer operations on strings
  since: 3.2.0

  BITOP operation destkey key [key ...]
  summary: Perform bitwise operations between strings
  since: 2.6.0

  BITPOS key bit [start] [end]
  summary: Find first bit set or clear in a string
  since: 2.8.7

  DECR key
  summary: Decrement the integer value of a key by one
  since: 1.0.0

  DECRBY key decrement
  summary: Decrement the integer value of a key by the given number
  since: 1.0.0

  GET key
  summary: Get the value of a key
  since: 1.0.0

  GETBIT key offset
  summary: Returns the bit value at offset in the string value stored at key
  since: 2.2.0

  GETDEL key
  summary: Get the value of a key and delete the key
  since: 6.2.0

  GETEX key [EX seconds|PX milliseconds|EXAT timestamp|PXAT milliseconds-timestamp|PERSIST]
  summary: Get the value of a key and optionally set its expiration
  since: 6.2.0

  GETRANGE key start end
  summary: Get a substring of the string stored at a key
  since: 2.4.0

  GETSET key value
  summary: Set the string value of a key and return its old value
  since: 1.0.0

  INCR key
  summary: Increment the integer value of a key by one
  since: 1.0.0

  INCRBY key increment
  summary: Increment the integer value of a key by the given amount
  since: 1.0.0

  INCRBYFLOAT key increment
  summary: Increment the float value of a key by the given amount
  since: 2.6.0

  MGET key [key ...]
  summary: Get the values of all the given keys
  since: 1.0.0

  MSET key value [key value ...]
  summary: Set multiple keys to multiple values
  since: 1.0.1

  MSETNX key value [key value ...]
  summary: Set multiple keys to multiple values, only if none of the keys exist
  since: 1.0.1

  PSETEX key milliseconds value
  summary: Set the value and expiration in milliseconds of a key
  since: 2.6.0

  SET key value [EX seconds|PX milliseconds|EXAT timestamp|PXAT milliseconds-timestamp|KEEPTTL] [NX|XX] [GET]
  summary: Set the string value of a key
  since: 1.0.0

  SETBIT key offset value
  summary: Sets or clears the bit at offset in the string value stored at key
  since: 2.2.0

  SETEX key seconds value
  summary: Set the value and expiration of a key
  since: 2.0.0

  SETNX key value
  summary: Set the value of a key, only if the key does not exist
  since: 1.0.0

  SETRANGE key offset value
  summary: Overwrite part of a string at key starting at the specified offset
  since: 2.2.0

  STRALGO LCS algo-specific-argument [algo-specific-argument ...]
  summary: Run algorithms (currently LCS) against strings
  since: 6.0.0

  STRLEN key
  summary: Get the length of the value stored in a key
  since: 2.2.0

127.0.0.1:6379> 
```

在 Redis 中，通用命令主要指可以作用于常用数据结构上的一些基本操作和常用命令。

# keys

keys pattern:获取所有与pattern匹配的key。

*表示匹配任意一个或多个字符, ?表示匹配任意一个字符

由于redis中还没有数据，现加入几条数据以供测试。

```shell
127.0.0.1:6379> set k1 v1
OK
127.0.0.1:6379> set k2 v2
OK
127.0.0.1:6379> set k3 v3
OK
127.0.0.1:6379> keys *
1) "k1"
2) "k3"
3) "k2"
127.0.0.1:6379> keys ?1
1) "k1"
```

**注：redis的keys命令是模糊查询， 数据量大的话效率会很低，并且redis是单线程的，查询时其他请求会被阻塞，生产环境不要使用keys命令**

# exists

判断一个或多个key是否存在,返回存在的个数

```shell
127.0.0.1:6379> exists k1
(integer) 1
127.0.0.1:6379> exists k
(integer) 0
127.0.0.1:6379> exists k1 k2
(integer) 2
```

# type

查看key所存储的值是什么类型

```shell
127.0.0.1:6379> type k1
string
```

# del

del删除指定的一个会多个key数据

```shell
127.0.0.1:6379> del k3
(integer) 1
127.0.0.1:6379> keys *
1) "k1"
2) "k2"
```

# unlink

非阻塞删除

```shell
127.0.0.1:6379> unlink k2
(integer) 1
127.0.0.1:6379> keys *
1) "k1"
```

`UNLINK` 命令与 `DEL` 命令在功能上相似，都能够删除键，但是 `UNLINK` 命令在执行上是非阻塞的，这意味着它不会立即返回结果，而是在后台异步地完成删除操作。这对于处理大量数据或者在不希望阻塞服务器的情况下非常有用。

# expire

expire key ：给一个key设置有效期，有效期到期时该key会被自动删除 ，单位:秒

# ttl

ttl key：获取该key所剩的超时时间，如果没有设置超时，返回-1，如果返回-2表示已超时key不存在了。

```shell
127.0.0.1:6379> expire k1 10
(integer) 1
127.0.0.1:6379> ttl k1
(integer) 5
127.0.0.1:6379> ttl k1
(integer) -2
```

# rename

rename key newkey:为当前的key重命名

```shell
127.0.0.1:6379> set k1 v1
OK
127.0.0.1:6379> set k2 v2
OK
127.0.0.1:6379> get k1
"v1"
127.0.0.1:6379> rename k1 k11
OK
127.0.0.1:6379> get k1
(nil)
127.0.0.1:6379> get k11
"v1"
```

# move

move key dbindex 【0-15】  ：将当前数据库的key移动到指定的数据库db中

# select

select dbindex ：切换数据库【0-15 】 默认为0

# dbsize

dbsize：查看当前数据库key的数量

```shell
127.0.0.1:6379> dbsize
(integer) 2
```

# flushdb

flushdb：清空当前库

```shell
127.0.0.1:6379> keys *
1) "k11"
2) "k2"
127.0.0.1:6379> flushdb
OK
127.0.0.1:6379> keys *
(empty array)
```

# flushall

flushall：清空所有库



