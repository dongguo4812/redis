# Redis在Windows下的安装

Redis官方只有linux版本，微软开发维护了一款win版本：[redis](https://github.com/MicrosoftArchive/redis)

![image-20240228205016101](https://gitee.com/dongguo4812_admin/image/raw/master/image/202402282144394.png)

但是已经停止更新了，最新的一次更新还是redis3.0.5

由于这个版本中还未支持geospatial地理位置的使用，这里我找到一份windows版的redis6.2.6

链接：https://pan.baidu.com/s/13cJV6H2ZimiZvJPblweBaQ?pwd=1234 
提取码：1234

## 1.下载

下载redis-6.2.6-win.zip进行解压，可以看到Redis文件夹有如下文件

![image-20240228210120633](https://gitee.com/dongguo4812_admin/image/raw/master/image/202402282144057.png)

Redis的可执行命令和配置文件用途说明。

- redis-benchmark.exe：测试工具，测试Redis的读写性能情况

- redis-check-aof.exe： 用于检查 Redis AOF (Append Only File) 文件的工具。这个工具用来验证 AOF 文件的格式是否正确，以及是否和当前的 Redis 数据保持一致。

- redis-check-rdb.exe： 用于检查 Redis RDB 文件的工具，它可以帮助你检查 RDB 文件的完整性和一致性。

- redis-cli.exe ：Redis客户端程序

- redis-server.exe：Redis服务器程序

- redis.windows.conf：Redis在Windows下的配置文件，主要是一些Redis的默认服务配置，包括默认端口号（6379）等

## 2.启动服务端

在Redis所在目录执行cmd命令

![image-20240228212110137](https://gitee.com/dongguo4812_admin/image/raw/master/image/202402282144032.png)

执行一下命令，直接启动redis服务。

```
redis-server.exe redis.conf
```

如果报以下错误，则是端口冲突了。可以百度解决端口冲突或修改redis.conf中port的端口

![image-20240228213824414](https://gitee.com/dongguo4812_admin/image/raw/master/image/202402282144766.png)

正常启动：

![image-20240228214351046](https://gitee.com/dongguo4812_admin/image/raw/master/image/202402282144448.png)

运行redis-server命令启动的是Redis服务，是在前台控制台直接运行的，也就是说，执行完该命令后，如果关闭当前命令行窗口，Redis服务也会相应的关闭。

==注：win版的redis就不设置后台启动和自动启动了，后续的文章统一使用linux版的redis。==

## 3.启动客户端

重新启动一个控制台窗口，原来的控制台窗口不要关闭，不然就无法访问Redis服务器了。在新的cmd控制台窗口运行以下命令启动Redis客户端。

```
redis-cli.exe -h 127.0.0.1 -p 6379
```

客户端基本参数介绍

-h：设置主机ip地址，默认为127.0.0.1

-p：设置主机的端口号，默认为6379

## 4停止服务端

在Redis客户端输入shutdown命令，会关闭Redis服务器，然后持久化Redis内存中的数据到文件

![image-20240228215745398](https://gitee.com/dongguo4812_admin/image/raw/master/image/202402282202671.png)

redis客户端断开连接，redis服务端关闭，并且在关闭前进行了RDB持久化

![image-20240228215827087](https://gitee.com/dongguo4812_admin/image/raw/master/image/202402282202835.png)

此时redis文件夹中生成了一个dump.rdb的转储文件

![image-20240228215919215](https://gitee.com/dongguo4812_admin/image/raw/master/image/202402282202192.png)

关于redis的持久化在后续文章中会进行详细的讲解，这里只做了解即可。

# Redis在linux下的安装
