redis 监控一共有两种方式，一种是通过info命令，还有一种是使用图形化工具。两者其实本质是一样的，不过一个是命令行的模式下查看监控数据，而另外一种是图形化页面查看。

# INFO命令

进入Redis客户端,输入INFO命令,可以看到输出很多字段的参数,其主要内容如下：

```shell
[root@redis ~]# redis-server /opt/redis-6.2.6/redis.conf
[root@redis ~]# redis-cli -a root 
Warning: Using a password with '-a' or '-u' option on the command line interface may not be safe.
127.0.0.1:6379> info
# Server
redis_version:6.2.6
redis_git_sha1:00000000
redis_git_dirty:0
redis_build_id:40e299d5f228e588
redis_mode:standalone
os:Linux 3.10.0-1160.el7.x86_64 x86_64
arch_bits:64
multiplexing_api:epoll
atomicvar_api:atomic-builtin
gcc_version:4.8.5
process_id:1008
process_supervised:no
run_id:c4de91291ddd78cb38992dac20e1299ced5d6a28
tcp_port:6379
server_time_usec:1709882630158094
uptime_in_seconds:72763
uptime_in_days:0
hz:10
configured_hz:10
lru_clock:15383814
executable:/usr/local/bin/redis-server
config_file:/opt/redis-6.2.6/redis.conf
io_threads_active:0

# Clients
connected_clients:3
cluster_connections:0
maxclients:10000
client_recent_max_input_buffer:24
client_recent_max_output_buffer:0
blocked_clients:0
tracking_clients:0
clients_in_timeout_table:0

# Memory
used_memory:917152
used_memory_human:895.66K
used_memory_rss:10383360
used_memory_rss_human:9.90M
used_memory_peak:975256
used_memory_peak_human:952.40K
used_memory_peak_perc:94.04%
used_memory_overhead:871960
used_memory_startup:810072
used_memory_dataset:45192
used_memory_dataset_perc:42.20%
allocator_allocated:963624
allocator_active:1253376
allocator_resident:3534848
total_system_memory:1019568128
total_system_memory_human:972.34M
used_memory_lua:37888
used_memory_lua_human:37.00K
used_memory_scripts:0
used_memory_scripts_human:0B
number_of_cached_scripts:0
maxmemory:0
maxmemory_human:0B
maxmemory_policy:noeviction
allocator_frag_ratio:1.30
allocator_frag_bytes:289752
allocator_rss_ratio:2.82
allocator_rss_bytes:2281472
rss_overhead_ratio:2.94
rss_overhead_bytes:6848512
mem_fragmentation_ratio:11.88
mem_fragmentation_bytes:9508976
mem_not_counted_for_evict:0
mem_replication_backlog:0
mem_clients_slaves:0
mem_clients_normal:61504
mem_aof_buffer:0
mem_allocator:jemalloc-5.1.0
active_defrag_running:0
lazyfree_pending_objects:0
lazyfreed_objects:0

# Persistence
loading:0
current_cow_size:0
current_cow_size_age:0
current_fork_perc:0.00
current_save_keys_processed:0
current_save_keys_total:0
rdb_changes_since_last_save:0
rdb_bgsave_in_progress:0
rdb_last_save_time:1709874912
rdb_last_bgsave_status:ok
rdb_last_bgsave_time_sec:0
rdb_current_bgsave_time_sec:-1
rdb_last_cow_size:2457600
aof_enabled:0
aof_rewrite_in_progress:0
aof_rewrite_scheduled:0
aof_last_rewrite_time_sec:-1
aof_current_rewrite_time_sec:-1
aof_last_bgrewrite_status:ok
aof_last_write_status:ok
aof_last_cow_size:0
module_fork_in_progress:0
module_fork_last_cow_size:0

# Stats
total_connections_received:29
total_commands_processed:132
instantaneous_ops_per_sec:0
total_net_input_bytes:4514
total_net_output_bytes:47702
instantaneous_input_kbps:0.00
instantaneous_output_kbps:0.00
rejected_connections:0
sync_full:0
sync_partial_ok:0
sync_partial_err:0
expired_keys:0
expired_stale_perc:0.00
expired_time_cap_reached_count:0
expire_cycle_cpu_milliseconds:1374
evicted_keys:0
keyspace_hits:30
keyspace_misses:2
pubsub_channels:0
pubsub_patterns:0
latest_fork_usec:482
total_forks:6
migrate_cached_sockets:0
slave_expires_tracked_keys:0
active_defrag_hits:0
active_defrag_misses:0
active_defrag_key_hits:0
active_defrag_key_misses:0
tracking_total_keys:0
tracking_total_items:0
tracking_total_prefixes:0
unexpected_error_replies:0
total_error_replies:2
dump_payload_sanitizations:0
total_reads_processed:160
total_writes_processed:133
io_threaded_reads_processed:0
io_threaded_writes_processed:0

# Replication
role:master
connected_slaves:0
master_failover_state:no-failover
master_replid:11dac63b2a6f4d2e97568a16ba1bd0ef98119f51
master_replid2:0000000000000000000000000000000000000000
master_repl_offset:0
second_repl_offset:-1
repl_backlog_active:0
repl_backlog_size:1048576
repl_backlog_first_byte_offset:0
repl_backlog_histlen:0

# CPU
used_cpu_sys:47.743367
used_cpu_user:45.156938
used_cpu_sys_children:0.042711
used_cpu_user_children:0.000000
used_cpu_sys_main_thread:47.731127
used_cpu_user_main_thread:45.160270

# Modules

# Errorstats
errorstat_ERR:count=2

# Cluster
cluster_enabled:0

# Keyspace
db0:keys=8,expires=0,avg_ttl=0
```

以上返回关于Redis服务器的各种信息和统计数值。主要包括：

## Server:Redis的服务器信息

```shell
redis_version:6.2.6	#Redis服务器版本
redis_git_sha1:00000000	#Git SHA1
redis_git_dirty:0	#Git dirty flag
redis_build_id:40e299d5f228e588 
redis_mode:standalone	#Redis服务器运行模式。standalone、sentinel或cluster
os:Linux 3.10.0-1160.el7.x86_64 x86_64	#Redis服务器的宿主操作系统
arch_bits:64	#架构(32位或64位)
multiplexing_api:epoll	#Redis使用的时事件处理机制
atomicvar_api:atomic-builtin	#原子变量 API 的类型。	
gcc_version:4.8.5	#编译Redis时所使用的GCC版本
process_id:1008	#服务器进程的PID
process_supervised:no	#是否有一个系统进程在监控 Redis 进程。no 表示没有。
run_id:c4de91291ddd78cb38992dac20e1299ced5d6a28 #Redis 服务器的随机标识符（用于 Sentinel 和集群）
tcp_port:6379	#TCP/IP监听端口
server_time_usec:1709882630158094	#Redis 服务器当前的微秒级时间戳。
uptime_in_seconds:72763 #自Redis服务器启动以来,经过的秒数
uptime_in_days:0	#自Redis 服务器启动以来，经过的天数
hz:10	#Redis 服务器使用的时钟中断频率，以赫兹为单位。这是 Redis 执行定时任务（如过期键的处理）的频率。
configured_hz:10
lru_clock:15383814	#以分钟为单位进行自增的时钟，用于 LRU 管理
executable:/usr/local/bin/redis-server	#Redis 服务器的可执行文件路径。
config_file:/opt/redis-6.2.6/redis.conf	#Redis 服务器的配置文件路径。
io_threads_active:0	#Redis 6.x 版本引入了 I/O 多线程，以提高高并发写入性能。这个字段显示当前有多少个 I/O 线程正在处理请求。
```

## Clients:已连接客户端信息

```shell
connected_clients:3	#已连接客户端的数量（不包括通过从属服务器连接的客户端)
cluster_connections:0	#当前与集群中其他节点建立的连接数
maxclients:10000	#Redis服务器配置的最大并发客户端连接数。
client_recent_max_input_buffer:24	#当前连接的客户端当中，最长的输出列表
client_recent_max_output_buffer:0	#当前连接的客户端当中，最大输入缓存
blocked_clients:0	#正在等待阻塞命令(BLPOP、 BRPOP、 BRPOPLPUSH)的客户端的数量
tracking_clients:0	#使用Redis的客户端跟踪功能的客户端数量。
clients_in_timeout_table:0	#当前在超时表中的客户端数量。这个表用于跟踪那些可能由于网络问题或其他原因而暂时无法响应的客户端。
```

## Memory:内存信息

```shell
used_memory:917152	#Redis 分配器分配的内存总量，以字节为单位。
used_memory_human:895.66K	#以人类可读的格式显示 used_memory。
used_memory_rss:10383360	#从操作系统的角度看，Redis 进程占用的物理内存大小（Resident Set Size）。
used_memory_rss_human:9.90M	
used_memory_peak:975256	#Redis 的内存使用峰值。
used_memory_peak_human:952.40K
used_memory_peak_perc:94.04%	#使用的内存占总内存峰值的百分比。
used_memory_overhead:871960	#用于维护数据结构的开销，例如哈希表等。
used_memory_startup:810072	#Redis 服务器启动时使用的内存量。
used_memory_dataset:45192	#数据集的大小，即实际存储的键值对所占用的内存。
used_memory_dataset_perc:42.20%		#数据集占用的内存占总使用内存的百分比。
allocator_allocated:963624	#分配器分配的内存大小。
allocator_active:1253376	#分配器认为正在使用的内存大小。
allocator_resident:3534848	#从操作系统的角度看，分配器使用的物理内存大小。
total_system_memory:1019568128	#系统的总内存大小。
total_system_memory_human:972.34M
used_memory_lua:37888	#Lua 脚本使用的内存量。
used_memory_lua_human:37.00K
used_memory_scripts:0	#缓存脚本使用的内存量。	
used_memory_scripts_human:0B
number_of_cached_scripts:0	#缓存的脚本数量。
maxmemory:0	#Redis 可以使用的最大内存量。0 表示没有限制。
maxmemory_human:0B
maxmemory_policy:noeviction	#当达到最大内存限制时，Redis 使用的驱逐策略。
allocator_frag_ratio:1.30	#分配器的碎片率
allocator_frag_bytes:289752	#分配器的碎片大小
allocator_rss_ratio:2.82	#分配器的RSS碎片率和碎片大小。
allocator_rss_bytes:2281472		#分配器的RSS碎片大小。
rss_overhead_ratio:2.94		#RSS开销的碎片率。
rss_overhead_bytes:6848512	#RSS开销的碎片大小。
mem_fragmentation_ratio:11.88	##内存碎片率，即 used_memory_rss 除以 used_memory。如果这个值大于1，表示存在内存碎片。
mem_fragmentation_bytes:9508976	##内存碎片大小，即 used_memory_rss 减去 used_memory。
mem_not_counted_for_evict:0	#不考虑进行驱逐策略的内存量。
mem_replication_backlog:0	#复制积压缓冲区的大小。如果缓冲区的大小为零，可能表示当前没有活动的复制连接或复制积压缓冲区未被使用。
mem_clients_slaves:0	#从服务器（slave）客户端所使用的内存量。如果值为零，可能表示当前没有从服务器连接。
mem_clients_normal:61504	#普通（非从服务器）客户端所使用的内存量。
mem_aof_buffer:0	#AOF（Append-Only File）缓冲区的大小。
mem_allocator:jemalloc-5.1.0	#Redis 使用的内存分配器类型
active_defrag_running:0	# 表示是否正在运行主动碎片整理。如果值为0，表示当前没有运行主动碎片整理。
lazyfree_pending_objects:0	#待延迟释放的对象数量
lazyfreed_objects:0	#已经被延迟释放的对象数量。
```

## Persistence：RDB和AOF相关信息

```shell
loading:0	#表示 Redis 是否正在加载数据。0 表示没有正在加载。
current_cow_size:0	#当前写时复制（Copy-On-Write, COW）操作的大小。
current_cow_size_age:0	#当前写时复制操作已经持续的时间。
current_fork_perc:0.00	#当前 fork 操作完成的百分比。在 Redis 执行持久化操作时（如 RDB 快照或 AOF 重写）会显示 fork 操作的进度。
current_save_keys_processed:0	#表示后台 RDB 保存是否正在进行中。0 表示没有正在进行的后台保存。
current_save_keys_total:0	#在当前进行的 RDB 持久化操作中，预计需要处理的键（key）总数。如果这个值为 0，可能表示没有正在进行的 RDB 快照操作，或者当前的快照操作还没有开始处理任何键。
rdb_changes_since_last_save:0	#自上次成功保存 RDB 文件以来，数据集发生的更改次数。
rdb_bgsave_in_progress:0	#表示后台 RDB 保存是否正在进行中。0 表示没有正在进行的后台保存。
rdb_last_save_time:1709874912	#上次成功保存 RDB 文件的时间戳。
rdb_last_bgsave_status:ok	#上次后台 RDB 保存的状态，ok 表示成功。
rdb_last_bgsave_time_sec:0	#上次后台 RDB 保存所花费的时间（秒）。
rdb_current_bgsave_time_sec:-1	#当前后台 RDB 保存已经花费的时间（秒）。如果没有正在进行的保存，这个值通常为 -1。
rdb_last_cow_size:2457600	#上次 RDB 保存时写时复制操作的大小。
aof_enabled:0	#表示 AOF 持久化功能是否已启用。0 表示 AOF 被禁用。
aof_rewrite_in_progress:0	#表示 AOF 重写操作是否正在进行中。
aof_rewrite_scheduled:0	#表示 AOF 重写是否已经被计划执行。
aof_last_rewrite_time_sec:-1	#上次 AOF 重写操作完成的时间（秒）。
aof_current_rewrite_time_sec:-1	#当前 AOF 重写操作已经花费的时间（秒）。如果没有正在进行的重写，这个值通常为 -1。
aof_last_bgrewrite_status:ok	#上次后台 AOF 重写的状态。
aof_last_write_status:ok	#上次 AOF 写操作的状态。
aof_last_cow_size:0	#上次 AOF 重写时写时复制操作的大小。
module_fork_in_progress:0	#表示是否有模块的 fork 操作正在进行中。
module_fork_last_cow_size:0	#上次模块 fork 操作时的写时复制大小。
```

## Stats：一般运行统计信息

```shell
total_connections_received:29 #自Redis服务器启动以来接收到的总连接数。
total_commands_processed:132	#自 Redis 服务器启动以来处理的总命令数。
instantaneous_ops_per_sec:0	#最近一秒钟内 Redis 服务器执行的命令数。
total_net_input_bytes:4514	# 自 Redis 服务器启动以来从网络接收的总字节数。
total_net_output_bytes:47702	#自 Redis 服务器启动以来发送到网络的总字节数。
instantaneous_input_kbps:0.00	#最近一秒钟内从网络接收的千字节数（KB/s）。
instantaneous_output_kbps:0.00	#最近一秒钟内发送到网络的千字节数（KB/s）。
rejected_connections:0	#由于达到最大连接数限制而被拒绝的连接数。
sync_full:0	#执行完整同步的次数（通常用于主从复制）。
sync_partial_ok:0	#执行部分同步成功的次数。
sync_partial_err:0	#执行部分同步失败的次数。
expired_keys:0	#自 Redis 服务器启动以来到期的键数。
expired_stale_perc:0.00	#过期键中因为未访问而未能及时清理的百分比。0.00% 表示没有出现过期的键未能及时清理的情况。
expired_time_cap_reached_count:0	#在尝试执行键过期扫描时，由于达到了过期时间的上限而未能完成的次数。
expire_cycle_cpu_milliseconds:1374 	#在执行过期键扫描的循环中所消耗的 CPU 毫秒数。
evicted_keys:0		#由于使用了驱逐策略（例如当 Redis 达到内存限制时）而被删除的键的数量。
keyspace_hits:30	#键空间查询命中的次数。
keyspace_misses:2	#键空间查询未命中的次数。
pubsub_channels:0	#当前订阅的频道数。
pubsub_patterns:0	# 当前订阅的模式数。
latest_fork_usec:482	#最近一次 fork 操作所用的微秒数。
total_forks:6	#自 Redis 服务器启动以来执行的总 fork 操作数。
migrate_cached_sockets:0	#缓存的用于迁移操作的套接字数量。
slave_expires_tracked_keys:0	#从服务器（slave）上跟踪过期时间的键的数量。
active_defrag_hits:0	#主动碎片整理命中的次数。
active_defrag_misses:0	#主动碎片整理未命中的次数。
active_defrag_key_hits:0	#主动碎片整理键命中的次数。
active_defrag_key_misses:0	#主动碎片整理键未命中的次数。
tracking_total_keys:0	#客户端跟踪的总键数。
tracking_total_items:0	#客户端跟踪的总项数。
tracking_total_prefixes:0	#客户端跟踪的总前缀数。
unexpected_error_replies:0	#由于意外错误而发送的错误回复数。
total_error_replies:2	#自 Redis 服务器启动以来发送的总错误回复数。
dump_payload_sanitizations:0
total_reads_processed:160	#自 Redis 服务器启动以来处理的总读取操作数。
total_writes_processed:133	#自 Redis 服务器启动以来处理的总写入操作数。
io_threaded_reads_processed:0	#由 I/O 线程处理的总读取操作数（如果启用了 I/O 线程）。
io_threaded_writes_processed:0	#由 I/O 线程处理的总写入操作数（如果启用了 I/O 线程）。
```

## Replication：主从复制信息

```shell
role:master	#role: 表示当前 Redis 实例的角色。master 表示这个 Redis 实例是一个主服务器
connected_slaves:0	#当前连接到这个主服务器的从服务器数量。0 表示没有从服务器连接。
master_failover_state:no-failover	#表示当前主服务器的故障转移状态。no-failover 表示没有正在进行或计划中的故障转移。
master_replid:11dac63b2a6f4d2e97568a16ba1bd0ef98119f51	#主服务器的复制 ID。用于在复制过程中识别主服务器
master_replid2:0000000000000000000000000000000000000000	#用于在故障转移场景中跟踪上一个主服务器的复制 ID。如果当前没有发生故障转移，这个值通常为全零。
master_repl_offset:0	#主服务器的复制偏移量。
second_repl_offset:-1	#记录第二个从服务器的复制偏移量。-1 可能表示没有第二个从服务器或相关的偏移量信息不可用。
repl_backlog_active:0	#表示复制积压缓冲区是否处于活动状态。0 表示复制积压缓冲区当前未激活。
repl_backlog_size:1048576	#复制积压缓冲区的大小，以字节为单位。
repl_backlog_first_byte_offset:0	#复制积压缓冲区的第一个字节的偏移量。
repl_backlog_histlen:0	#复制积压缓冲区中当前存储的历史数据长度。
```

## CPU：CPU计算量统计信息

```shell
used_cpu_sys:47.743367	#Redis 实例在系统模式下（即内核态）使用的 CPU 时间，以秒为单位。	
used_cpu_user:45.156938	# Redis 实例在用户模式下（即用户态）使用的 CPU 时间，以秒为单位。
used_cpu_sys_children:0.042711	#Redis 的子进程在系统模式下使用的 CPU 时间。
used_cpu_user_children:0.000000	#Redis 的子进程在用户模式下使用的 CPU 时间。
used_cpu_sys_main_thread:47.731127	#Redis 主线程在系统模式下使用的 CPU 时间。
used_cpu_user_main_thread:45.160270	#Redis 主线程在用户模式下使用的 CPU 时间。
```



## Cluster：Redis集群信息

```shell
cluster_enabled:0	#Redis 实例当前是否启用集群模式。0 表示这个功能当前是关闭的。
```

## Keyspace：数据库相关的统计信息

```shell
db0:keys=8,expires=0,avg_ttl=0	#第一个数据库（通常称为 db0）的信息：数据库当前包含 8 个键；没有一个键设置了过期时间；平均生存时间（Time-To-Live）为 0。由于没有键设置了过期时间，所以平均值也是 0。
```

# redis-stat图形化工具

redis-stat 是基于Ruby实现的一个简单易用的Redis监控工具。redis-stat的实现原理基于Redis的INFO命令相比Redis的MONITOR命令来说其对Redis不会产生任何性能影响。

redis-stat 的使用需要依赖Ruby环境，但JRuby为我们提供了使用Java的使用方式。在github官网搜索redis-stat，在[redis-stat项目](https://github.com/junegunn/redis-stat)下载redis-stat-0.4.14.jar文件,如下图所示。

